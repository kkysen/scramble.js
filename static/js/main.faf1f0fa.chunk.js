(this.webpackJsonpscramble=this.webpackJsonpscramble||[]).push([[0],{27:function(e,n,t){},39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var r=t(0),s=t(1),i=t.n(s),a=t(18),o=t.n(a),u=(t(27),t(7)),c=t(16),l=t(15),h=t.n(l),d=(t(29),t(10)),m=function(e){var n=e.letter,t=e.selected,s=e.setSelected,i=e.isWord,a=e.boardSize,o=function(){var e=5,n=1,t=(n-2)/(e-25)*(a-e)+n;return function(e){return e/t*1.5}}();return Object(r.jsx)("div",{onClick:s,style:{backgroundColor:t?"yellow":i?"#13E049":"white",color:t?"black":i?"red":"black",padding:"".concat(o(1),"%"),margin:"".concat(o(.2),"%"),width:"".concat(o(3),"%"),fontSize:"".concat(o(3),"vw"),borderWidth:"".concat(o(1),"vw"),borderStyle:t?"inset":"outset",borderRadius:i?"".concat(o(2),"vw"):0,textAlign:"center"},children:n})},f=function(e){var n=e.word,t=e.isWord,s=e.selectedIndex,i=e.setSelectedIndex,a=e.boardSize;return Object(r.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center",fontWeight:t?"bold":"normal"},children:Object(d.a)(n.toUpperCase()).map((function(e,n){return Object(r.jsx)(m,{letter:e,selected:s===n,setSelected:function(){return i(n)},isWord:t,boardSize:a},n)}))})},v=function(e){var n=e.words,t=e.wordChecker,i=e.Solution,a=n.solution,o=n.shuffled,c=Object(s.useCallback)((function(e){return{isFirst:e,x:-1,y:-1,words:o,solved:t.words(o),numMoves:0}}),[t,o]),l=Object(s.useState)(c(!0)),h=Object(u.a)(l,2),m=h[0],v=m.isFirst,j=m.x,g=m.y,b=m.words,y=m.solved,x=m.numMoves,O=h[1],w=b===a;return Object(s.useEffect)((function(){v||console.log(a.join("\n"))}),[v,a]),Object(s.useEffect)((function(){O(c(!1))}),[c]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:b.map((function(e,n){return Object(r.jsx)(f,{word:e,isWord:t.word(e),selectedIndex:n===j?g:-1,setSelectedIndex:function(e){return function(e,n){if(-1===g||-1===j)O({isFirst:!1,x:e,y:n,words:b,solved:y,numMoves:x});else if(j===e&&g===n)O({isFirst:!1,x:-1,y:-1,words:b,solved:y,numMoves:x});else{var r=b.map((function(e){return Object(d.a)(e)})),s=r[e][n];r[e][n]=r[j][g],r[j][g]=s;var i=r.map((function(e){return e.join("")}));O({isFirst:!1,x:-1,y:-1,words:i,solved:t.words(i),numMoves:x+1})}}(n,e)},boardSize:b.length},n)}))}),Object(r.jsx)(i,{solved:y,showingSolution:w,showSolution:function(){return O({isFirst:!1,x:-1,y:-1,words:a,solved:!0,numMoves:x})},numMoves:x,shuffle:function(){var e=n.shuffle();O({isFirst:!1,x:-1,y:-1,words:e,solved:t.words(e),numMoves:x})}})]})},j=t(9),g=t.n(j),b=t(19),y=t(5),x=t(6),O=t(13),w=t(12),p=t(2),C=t.n(p);var k=t(20),W=t(21),B=t.n(W),S=g.a.mark(z);function z(e){var n,t,r,s,i;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=e.start,t=void 0===n?0:n,r=e.stop,s=e.step,i=void 0===s?1:s;case 1:if(!(t<r)){a.next=7;break}return a.next=4,t;case 4:t+=i,a.next=1;break;case 7:case"end":return a.stop()}}),S)}function E(e){return C()(z(e))}function L(e){for(var n=e.length-1;n>0;n--){var t=Math.floor(Math.random()*n),r=e[n];e[n]=e[t],e[t]=r}}var M,F=function(){function e(n){Object(y.a)(this,e),this.metadata=n}return Object(x.a)(e,[{key:"toString",value:function(){return'Lexicon "'.concat(this.name,'"')}},{key:"label",value:function(){return"".concat(this.name," (").concat(this.size.numWords," words, ").concat(B()(this.size.numBytes),")")}},{key:"name",get:function(){return this.metadata.name}},{key:"size",get:function(){return this.metadata.size}}]),e}(),N=function(e){Object(O.a)(t,e);var n=Object(w.a)(t);function t(e,r){var s;Object(y.a)(this,t),(s=n.call(this,e)).handle=void 0,s.words=void 0,s.rawWordsByLength=void 0,s.handle=e,s.words=C()(r).filter((function(e){return e.length>0})).map((function(e){return e.toLowerCase()})).toSet();var i,a=E({stop:C()(s.words).map((function(e){return e.length})).reduce(Math.max)+1}).map((function(){return[]})).toArray(),o=Object(k.a)(s.words);try{for(o.s();!(i=o.n()).done;){var u=i.value;a[u.length].push(u)}}catch(c){o.e(c)}finally{o.f()}return s.rawWordsByLength=a,s}return Object(x.a)(t,[{key:"toString",value:function(){return"".concat(this.name," Lexicon (").concat(this.words.size," words)")}},{key:"wordsByLength",value:function(e){var n;return null!==(n=this.rawWordsByLength[e])&&void 0!==n?n:[]}},{key:"hasLength",value:function(e){return this.wordsByLength(e).length>0}},{key:"maxLengthBound",value:function(){return this.rawWordsByLength.length}},{key:"lengthRange",value:function(){return E({start:1,stop:this.maxLengthBound()})}},{key:"lengths",value:function(){var e=this;return this.lengthRange().filter((function(n){return e.hasLength(n)}))}},{key:"consecutiveLengths",value:function(){var e,n=this;return E({start:1,stop:null!==(e=this.lengthRange().find((function(e){return!n.hasLength(e)})))&&void 0!==e?e:this.maxLengthBound()})}},{key:"checkWord",value:function(e){return this.words.has(e)}},{key:"checkWords",value:function(e){var n=this;return e.every((function(e){return n.checkWord(e)}))}},{key:"wordChecker",value:function(){var e=this;return{word:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(n){return e.checkWord(n)})),words:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(n){return e.checkWords(n)}))}}},{key:"randomWord",value:function(e){if(!this.hasLength(e))throw new Error("".concat(this," has no words of length ").concat(e));var n=this.wordsByLength(e);return n[Math.random()*n.length|0]}},{key:"randomWords",value:function(e){var n=this;return E({stop:e}).map((function(e){return n.randomWord(e+1)}))}},{key:"randomShuffledWords",value:function(e){return new A(this.randomWords(e).toArray())}}]),t}(F),A=function(){function e(n){Object(y.a)(this,e),this.solution=n,this._shuffled=void 0,this._shuffled=this.shuffle()}return Object(x.a)(e,[{key:"doShuffle",value:function(){for(var e=this.solution,n=function(e){var n=Object(d.a)(e);return L(n),n.join("")}(e.join("")),t=[],r=0,s=1;s<=e.length;s++){var i=r+s;t.push(n.slice(r,i)),r=i}return t}},{key:"shuffle",value:function(){return this._shuffled=this.doShuffle(),this._shuffled}},{key:"shuffled",get:function(){return this._shuffled}}]),e}(),I=function(e){Object(O.a)(t,e);var n=Object(w.a)(t);function t(){var e;Object(y.a)(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=n.call.apply(n,[this].concat(s))).lexicon=void 0,e}return Object(x.a)(t,[{key:"fetch",value:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(Object(b.a)(g.a.mark((function e(){var n,t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.url);case 2:return n=e.sent,e.next=5,n.text();case 5:if(!(t=e.sent).startsWith("<!DOCTYPE html>")){e.next=8;break}throw new Error("the ".concat(this," doesn't actually exist on the server"));case 8:return e.abrupt("return",new N(this,t.split("\n")));case 9:case"end":return e.stop()}}),e,this)}))))},{key:"getCachedPromise",value:function(){return this.lexicon}},{key:"getCached",value:function(){if(!(this.lexicon instanceof Promise))return this.lexicon}},{key:"get",value:function(){var e=this;if(this.lexicon)return this.lexicon;var n=this.fetch();return this.lexicon=n,n.then((function(n){return e.lexicon=n})),n}},{key:"url",get:function(){return"".concat("/scramble.js","/lexicons/").concat(this.name,".txt")}}]),t}(F);M=Symbol.iterator;var D,_=new(function(){function e(n){Object(y.a)(this,e),this.handles=void 0,this.defaultNameKey=void 0,this._defaultName=void 0,this.handles=C()(n).map((function(e){return[e.name,new I(e)]})).toMap(),this.defaultNameKey="scramble.lexicon.default",this._defaultName=this.getDefaultName(),this.default().get()}return Object(x.a)(e,[{key:M,value:function(){return this.handles.values()}},{key:"iter",value:function(){return C()(this)}},{key:"getDefaultName",value:function(){var e=localStorage.getItem(this.defaultNameKey);return null!==e&&this.handles.has(e)?e:this.iter().map((function(e){return e.name})).find((function(){return!0}))}},{key:"updateDefault",value:function(e){this._defaultName=e.name,localStorage.setItem(this.defaultNameKey,this._defaultName)}},{key:"get",value:function(e){var n=this.handles.get(e);if(!n){var t=this.iter().map((function(e){return e.name}));throw new Error("the Lexicon ".concat(e," doesn't exist in {").concat(t.join(", "),"}"))}return n}},{key:"default",value:function(){return this.get(this._defaultName)}}]),e}())([{name:"American English Huge",size:{numWords:246744,numChars:2284464,numBytes:2531998}},{name:"American English Insane",size:{numWords:428978,numChars:4120357,numBytes:4550125}},{name:"American English Large",size:{numWords:114206,numChars:1001317,numBytes:1115773}},{name:"American English Small",size:{numWords:40106,numChars:316774,numBytes:356920}},{name:"American English",size:{numWords:63342,numChars:525946,numBytes:589416}},{name:"Bokmaal (Bokm\xe5l, Norsk)",size:{numWords:727157,numChars:9343908,numBytes:10071064}},{name:"Brazilian",size:{numWords:201214,numChars:1947879,numBytes:2149092}},{name:"British English Huge",size:{numWords:246195,numChars:2281671,numBytes:2528654}},{name:"British English Insane",size:{numWords:428462,numChars:4118763,numBytes:4548013}},{name:"British English Large",size:{numWords:113753,numChars:998356,numBytes:1112357}},{name:"British English Small",size:{numWords:39820,numChars:314691,numBytes:354551}},{name:"British English",size:{numWords:62955,numChars:523025,numBytes:586106}},{name:"Canadian English Huge",size:{numWords:246732,numChars:2286330,numBytes:2533852}},{name:"Canadian English Insane",size:{numWords:429041,numChars:4123832,numBytes:4553663}},{name:"Canadian English Large",size:{numWords:114188,numChars:1002020,numBytes:1116458}},{name:"Canadian English Small",size:{numWords:40073,numChars:316754,numBytes:356867}},{name:"Canadian English",size:{numWords:63282,numChars:525737,numBytes:589147}},{name:"Catala (Catalan)",size:{numWords:594065,numChars:5988133,numBytes:6784110}},{name:"Danish (Dansk)",size:{numWords:295965,numChars:3425472,numBytes:3806959}},{name:"Dutch (Nederlands)",size:{numWords:304745,numChars:3511029,numBytes:3819709}},{name:"English Sample",size:{numWords:15,numChars:47,numBytes:62}},{name:"Esperanto",size:{numWords:1003861,numChars:11085734,numBytes:12381123}},{name:"Faroese (Foeroyskt)",size:{numWords:153166,numChars:1599931,numBytes:1753096}},{name:"French",size:{numWords:137604,numChars:1314669,numBytes:1512829}},{name:"Galician Minimos (Galician)",size:{numWords:515124,numChars:5428079,numBytes:6090218}},{name:"German Medical",size:{numWords:6450,numChars:83597,numBytes:90046}},{name:"Italian",size:{numWords:108222,numChars:1023829,numBytes:1138236}},{name:"Ngerman",size:{numWords:236985,numChars:2822682,numBytes:3114239}},{name:"Nynorsk",size:{numWords:483403,numChars:5571739,numBytes:6055141}},{name:"Ogerman",size:{numWords:194769,numChars:2289694,numBytes:2531475}},{name:"Polish",size:{numWords:3504057,numChars:43317607,numBytes:49348989}},{name:"Portuguese",size:{numWords:427976,numChars:4425761,numBytes:4974519}},{name:"Spanish",size:{numWords:86016,numChars:748671,numBytes:852189}},{name:"Swedish (Svenska)",size:{numWords:76661,numChars:720117,numBytes:796777}},{name:"Swiss",size:{numWords:237045,numChars:2828025,numBytes:3115027}},{name:"Ukrainian",size:{numWords:1398873,numChars:14791431,numBytes:30981734}},{name:"Web2",size:{numWords:210680,numChars:2038459,numBytes:2249138}}]);D={lexicons:_},Object.assign(globalThis,D);var P,H=function(e){var n=e.solved,t=e.showingSolution,s=e.showSolution,i=e.numMoves,a=e.shuffle;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{children:[t?"Gave Up In ":"",i," Moves"]}),Object(r.jsx)("div",{children:n?t?"Done!":"You Won!":Object(r.jsx)("button",{onClick:s,children:"Show Solution"})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{onClick:a,children:"Shuffle"})})]})},R=function(e){var n=e.lexicon,t=e.size,s=n.randomShuffledWords(t);return Object(r.jsx)("div",{children:Object(r.jsx)(v,{words:s,wordChecker:n.wordChecker(),Solution:H})})},G=function(e){var n=e.options,t=e.setOptions,i=n?Object(c.a)(Object(c.a)({again:!0},n),{},{lexiconHandle:n.lexicon.handle}):{again:!1,lexiconHandle:_.default()},a=Object(s.useState)(i.lexiconHandle),o=Object(u.a)(a,2),l=o[0],d=o[1],m=Object(s.useState)(i.lexiconHandle.getCached()),f=Object(u.a)(m,2),v=f[0],j=f[1],g=Object(s.useState)(i.size),b=Object(u.a)(g,2),y=b[0],x=b[1];return Object(s.useEffect)((function(){x(void 0);var e=l.get();e instanceof Promise?e.then(j):j(e)}),[l]),Object(s.useEffect)((function(){v&&_.updateDefault(v)}),[v]),Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{disabled:!(v&&void 0!==y),onClick:function(){if(!v||void 0===y)throw new Error("impossible");t({lexicon:v,size:y})},children:"Play".concat(i.again?" Again":"","!")}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{children:"Lexicon"}),Object(r.jsx)(h.a,{options:_.iter().map((function(e){return{value:e.name,label:e.label()}})).toArray(),value:l.name,onChange:function(e){return d(_.get(e.value))}}),v&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("label",{children:"Size"}),Object(r.jsx)(h.a,{options:v.consecutiveLengths().map((function(e){return e.toString()})).toArray(),value:null===y||void 0===y?void 0:y.toString(),onChange:function(e){return x(parseInt(e.value))}})]})]})},K=function(){var e=Object(s.useState)(),n=Object(u.a)(e,2),t=n[0],i=n[1];return Object(r.jsxs)("div",{children:[t&&Object(r.jsx)(R,{lexicon:t.lexicon,size:t.size}),Object(r.jsx)(G,{options:t,setOptions:i})]})},T=function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{style:{textAlign:"center"},children:"Scramble"}),Object(r.jsxs)("div",{style:{marginLeft:"20%",marginRight:"20%",minWidth:"20vw"},children:[Object(r.jsx)("h3",{children:"Instructions"}),Object(r.jsx)("p",{children:"Swap letters by tapping on a pair one by one in an effort to make a word on each line of the board."}),Object(r.jsx)("p",{children:"Note that you can select which lexicon (dictionary) the game will use."}),Object(r.jsx)("p",{children:"And don't forget to select the size of your board to start."})]})]})},U=function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{style:{textAlign:"center"},children:Object(r.jsx)(K,{})}),Object(r.jsx)(T,{})]})},J=function(){return Object(r.jsx)(U,{})};t(39);o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(J,{})}),document.querySelector("#root")),P&&P instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(e){var n=e.getCLS,t=e.getFID,r=e.getFCP,s=e.getLCP,i=e.getTTFB;n(P),t(P),r(P),s(P),i(P)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.faf1f0fa.chunk.js.map