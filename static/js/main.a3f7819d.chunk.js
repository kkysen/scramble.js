(this.webpackJsonpscramble=this.webpackJsonpscramble||[]).push([[0],{27:function(e,n,t){},39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var r=t(0),s=t(1),a=t.n(s),i=t(18),o=t.n(i),u=(t(27),t(5)),c=t(16),l=t(15),h=t.n(l),d=(t(29),t(10)),m=function(e){var n=e.letter,t=e.selected,s=e.setSelected,a=e.isWord,i=e.boardSize,o=function(){var e=5,n=1,t=(n-2)/(e-25)*(i-e)+n;return function(e){return e/t*1.5}}();return Object(r.jsx)("div",{onClick:s,style:{backgroundColor:t?"yellow":"white",padding:"".concat(o(1),"%"),margin:"".concat(o(.2),"%"),width:"".concat(o(3),"%"),fontSize:"".concat(o(3),"vw"),borderWidth:"".concat(o(1),"vw"),borderStyle:t?"inset":"outset",borderRadius:a?"".concat(o(2),"vw"):0,textAlign:"center"},children:n})},f=function(e){var n=e.word,t=e.isWord,s=e.selectedIndex,a=e.setSelectedIndex,i=e.boardSize;return Object(r.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center",fontWeight:t?"bold":"normal"},children:Object(d.a)(n.toUpperCase()).map((function(e,n){return Object(r.jsx)(m,{letter:e,selected:s===n,setSelected:function(){return a(n)},isWord:t,boardSize:i},n)}))})},v=function(e){var n=e.words,t=n.solution,a=n.shuffled,i=e.wordChecker,o=e.Solution,c=Object(s.useCallback)((function(e){return{isFirst:e,x:-1,y:-1,words:a,solved:i.words(a),numMoves:0}}),[i,a]),l=Object(s.useState)(c(!0)),h=Object(u.a)(l,2),m=h[0],v=m.isFirst,g=m.x,j=m.y,b=m.words,y=m.solved,x=m.numMoves,w=h[1],O=b===t;return Object(s.useEffect)((function(){console.log(t.join("\n")),v||w(c(!1))}),[c]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:b.map((function(e,n){return Object(r.jsx)(f,{word:e,isWord:i.word(e),selectedIndex:n===g?j:-1,setSelectedIndex:function(e){return function(e,n){if(-1===j||-1===g)w({isFirst:!1,x:e,y:n,words:b,solved:y,numMoves:x});else if(g===e&&j===n)w({isFirst:!1,x:-1,y:-1,words:b,solved:y,numMoves:x});else{var t=b.map((function(e){return Object(d.a)(e)})),r=t[e][n];t[e][n]=t[g][j],t[g][j]=r;var s=t.map((function(e){return e.join("")}));w({isFirst:!1,x:-1,y:-1,words:s,solved:i.words(s),numMoves:x+1})}}(n,e)},boardSize:b.length},n)}))}),Object(r.jsx)(o,{solved:y,showingSolution:O,showSolution:function(){return w({isFirst:!1,x:-1,y:-1,words:t,solved:!0,numMoves:x})},numMoves:x})]})},g=t(7),j=t.n(g),b=t(19),y=t(8),x=t(9),w=t(13),O=t(12),p=t(2),k=t.n(p);var C=t(20),S=t(21),W=t.n(S),z=j.a.mark(B);function B(e){var n,t,r,s,a;return j.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=e.start,t=void 0===n?0:n,r=e.stop,s=e.step,a=void 0===s?1:s;case 1:if(!(t<r)){i.next=7;break}return i.next=4,t;case 4:t+=a,i.next=1;break;case 7:case"end":return i.stop()}}),z)}function L(e){return k()(B(e))}function E(e){for(var n=e.length-1;n>0;n--){var t=Math.floor(Math.random()*n),r=e[n];e[n]=e[t],e[t]=r}}var N,M=function(){function e(n){Object(y.a)(this,e),this.metadata=n}return Object(x.a)(e,[{key:"toString",value:function(){return'Lexicon "'.concat(this.name,'"')}},{key:"label",value:function(){return"".concat(this.name," (").concat(this.size.numWords," words, ").concat(W()(this.size.numBytes),")")}},{key:"name",get:function(){return this.metadata.name}},{key:"size",get:function(){return this.metadata.size}}]),e}(),F=function(e){Object(w.a)(t,e);var n=Object(O.a)(t);function t(e,r){var s;Object(y.a)(this,t),(s=n.call(this,e)).handle=void 0,s.words=void 0,s.rawWordsByLength=void 0,s.handle=e,s.words=k()(r).filter((function(e){return e.length>0})).map((function(e){return e.toLowerCase()})).toSet();var a,i=L({stop:k()(s.words).map((function(e){return e.length})).reduce(Math.max)+1}).map((function(){return[]})).toArray(),o=Object(C.a)(s.words);try{for(o.s();!(a=o.n()).done;){var u=a.value;i[u.length].push(u)}}catch(c){o.e(c)}finally{o.f()}return s.rawWordsByLength=i,s}return Object(x.a)(t,[{key:"toString",value:function(){return"".concat(this.name," Lexicon (").concat(this.words.size," words)")}},{key:"wordsByLength",value:function(e){var n;return null!==(n=this.rawWordsByLength[e])&&void 0!==n?n:[]}},{key:"hasLength",value:function(e){return this.wordsByLength(e).length>0}},{key:"maxLengthBound",value:function(){return this.rawWordsByLength.length}},{key:"lengthRange",value:function(){return L({start:1,stop:this.maxLengthBound()})}},{key:"lengths",value:function(){var e=this;return this.lengthRange().filter((function(n){return e.hasLength(n)}))}},{key:"consecutiveLengths",value:function(){var e,n=this;return L({start:1,stop:null!==(e=this.lengthRange().find((function(e){return!n.hasLength(e)})))&&void 0!==e?e:this.maxLengthBound()})}},{key:"checkWord",value:function(e){return this.words.has(e)}},{key:"checkWords",value:function(e){var n=this;return e.every((function(e){return n.checkWord(e)}))}},{key:"wordChecker",value:function(){var e=this;return{word:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(n){return e.checkWord(n)})),words:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(n){return e.checkWords(n)}))}}},{key:"randomWord",value:function(e){if(!this.hasLength(e))throw new Error("".concat(this," has no words of length ").concat(e));var n=this.wordsByLength(e);return n[Math.random()*n.length|0]}},{key:"randomWords",value:function(e){var n=this;return L({stop:e}).map((function(e){return n.randomWord(e+1)}))}},{key:"randomShuffledWords",value:function(e){for(var n=this.randomWords(e).toArray(),t=function(e){var n=Object(d.a)(e);return E(n),n.join("")}(n.join("")),r=[],s=0,a=1;a<=e;a++){var i=s+a;r.push(t.slice(s,i)),s=i}return{solution:n,shuffled:r}}}]),t}(M),A=function(e){Object(w.a)(t,e);var n=Object(O.a)(t);function t(){var e;Object(y.a)(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=n.call.apply(n,[this].concat(s))).lexicon=void 0,e}return Object(x.a)(t,[{key:"fetch",value:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(Object(b.a)(j.a.mark((function e(){var n,t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.url);case 2:return n=e.sent,e.next=5,n.text();case 5:if(!(t=e.sent).startsWith("<!DOCTYPE html>")){e.next=8;break}throw new Error("the ".concat(this," doesn't actually exist on the server"));case 8:return e.abrupt("return",new F(this,t.split("\n")));case 9:case"end":return e.stop()}}),e,this)}))))},{key:"getCachedPromise",value:function(){return this.lexicon}},{key:"getCached",value:function(){if(!(this.lexicon instanceof Promise))return this.lexicon}},{key:"get",value:function(){var e=this;if(this.lexicon)return this.lexicon;var n=this.fetch();return this.lexicon=n,n.then((function(n){return e.lexicon=n})),n}},{key:"url",get:function(){return"".concat("/scramble.js","/lexicons/").concat(this.name,".txt")}}]),t}(M);N=Symbol.iterator;var I,P=new(function(){function e(n){Object(y.a)(this,e),this.handles=void 0,this.defaultNameKey=void 0,this._defaultName=void 0,this.handles=k()(n).map((function(e){return[e.name,new A(e)]})).toMap(),this.defaultNameKey="scramble.lexicon.default",this._defaultName=this.getDefaultName(),this.default().get()}return Object(x.a)(e,[{key:N,value:function(){return this.handles.values()}},{key:"iter",value:function(){return k()(this)}},{key:"getDefaultName",value:function(){var e=localStorage.getItem(this.defaultNameKey);return null!==e&&this.handles.has(e)?e:this.iter().map((function(e){return e.name})).find((function(){return!0}))}},{key:"updateDefault",value:function(e){this._defaultName=e.name,localStorage.setItem(this.defaultNameKey,this._defaultName)}},{key:"get",value:function(e){var n=this.handles.get(e);if(!n){var t=this.iter().map((function(e){return e.name}));throw new Error("the Lexicon ".concat(e," doesn't exist in {").concat(t.join(", "),"}"))}return n}},{key:"default",value:function(){return this.get(this._defaultName)}}]),e}())([{name:"American English Huge",size:{numWords:246744,numChars:2284464,numBytes:2531998}},{name:"American English Insane",size:{numWords:428978,numChars:4120357,numBytes:4550125}},{name:"American English Large",size:{numWords:114206,numChars:1001317,numBytes:1115773}},{name:"American English Small",size:{numWords:40106,numChars:316774,numBytes:356920}},{name:"American English",size:{numWords:63342,numChars:525946,numBytes:589416}},{name:"Bokmaal (Bokm\xe5l, Norsk)",size:{numWords:727157,numChars:9343908,numBytes:10071064}},{name:"Brazilian",size:{numWords:201214,numChars:1947879,numBytes:2149092}},{name:"British English",size:{numWords:62955,numChars:523025,numBytes:586106}},{name:"Canadian English",size:{numWords:63282,numChars:525737,numBytes:589147}},{name:"Catala (Catalan)",size:{numWords:594065,numChars:5988133,numBytes:6784110}},{name:"Dutch (Nederlands)",size:{numWords:304745,numChars:3511029,numBytes:3819709}},{name:"English Sample",size:{numWords:15,numChars:47,numBytes:62}},{name:"Esperanto",size:{numWords:1003861,numChars:11085734,numBytes:12381123}},{name:"French",size:{numWords:137604,numChars:1314669,numBytes:1512829}},{name:"Italian",size:{numWords:108222,numChars:1023829,numBytes:1138236}},{name:"Ngerman",size:{numWords:236985,numChars:2822682,numBytes:3114239}},{name:"Nynorsk",size:{numWords:483403,numChars:5571739,numBytes:6055141}},{name:"Polish",size:{numWords:3504057,numChars:43317607,numBytes:49348989}},{name:"Portuguese",size:{numWords:427976,numChars:4425761,numBytes:4974519}},{name:"Spanish",size:{numWords:86016,numChars:748671,numBytes:852189}},{name:"Swedish (Svenska)",size:{numWords:76661,numChars:720117,numBytes:796777}},{name:"Ukrainian",size:{numWords:1398873,numChars:14791431,numBytes:30981734}}]);I={lexicons:P},Object.assign(globalThis,I);var D=function(e){var n=e.solved,t=e.showingSolution,s=e.showSolution,a=e.numMoves;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{children:[t?"Gave Up In ":"",a," Moves"]}),Object(r.jsx)("div",{children:n?t?"Done!":"You Won!":Object(r.jsx)("button",{onClick:s,children:"Show Solution"})})]})},H=function(e){var n=e.lexicon,t=e.size,s=n.randomShuffledWords(t);return Object(r.jsx)("div",{children:Object(r.jsx)(v,{words:s,wordChecker:n.wordChecker(),Solution:D})})},_=function(e){var n=e.options,t=e.setOptions,a=n?Object(c.a)(Object(c.a)({again:!0},n),{},{lexiconHandle:n.lexicon.handle}):{again:!1,lexiconHandle:P.default()},i=Object(s.useState)(a.lexiconHandle),o=Object(u.a)(i,2),l=o[0],d=o[1],m=Object(s.useState)(a.lexiconHandle.getCached()),f=Object(u.a)(m,2),v=f[0],g=f[1],j=Object(s.useState)(a.size),b=Object(u.a)(j,2),y=b[0],x=b[1];return Object(s.useEffect)((function(){x(void 0);var e=l.get();e instanceof Promise?e.then(g):g(e)}),[l]),Object(s.useEffect)((function(){v&&P.updateDefault(v)}),[v]),Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{disabled:!(v&&void 0!==y),onClick:function(){if(!v||void 0===y)throw new Error("impossible");t({lexicon:v,size:y})},children:"Play".concat(a.again?" Again":"","!")}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{children:"Lexicon"}),Object(r.jsx)(h.a,{options:P.iter().map((function(e){return{value:e.name,label:e.label()}})).toArray(),value:l.name,onChange:function(e){return d(P.get(e.value))}}),v&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("label",{children:"Size"}),Object(r.jsx)(h.a,{options:v.consecutiveLengths().map((function(e){return e.toString()})).toArray(),value:null===y||void 0===y?void 0:y.toString(),onChange:function(e){return x(parseInt(e.value))}})]})]})},K=function(){var e=Object(s.useState)(),n=Object(u.a)(e,2),t=n[0],a=n[1];return Object(r.jsxs)("div",{children:[t&&Object(r.jsx)(H,{lexicon:t.lexicon,size:t.size}),Object(r.jsx)(_,{options:t,setOptions:a})]})};var R=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(K,{})})},T=(t(39),function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(n){var t=n.getCLS,r=n.getFID,s=n.getFCP,a=n.getLCP,i=n.getTTFB;t(e),r(e),s(e),a(e),i(e)}))});o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(R,{})}),document.getElementById("root")),T()}},[[40,1,2]]]);
//# sourceMappingURL=main.a3f7819d.chunk.js.map